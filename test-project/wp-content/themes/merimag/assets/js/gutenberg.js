fw.shortcodesAggressiveCoder=function(e){var r={first:["‹","[","]",'"',"'","&","=","\\","<",">"],second:["ˆ","º","¹","²","³","¯","´","ª","¨","˜"].map(function(e){return"‹"+e+"›"})};return{encode:function(e){var r={},o={};_.each(e,function(e,c){c=n("-","_",c),_.isObject(e)&&(e=JSON.stringify(e),o[c]=c),r[c]=t(e)}),_.isEmpty(o)||(r._array_keys=t(JSON.stringify(o)));return r._fw_coder="aggressive",r},encodeValue:t,decode:function(e){if(!c(e))return e;e=_.omit(e,"_fw_coder");var r={};if(e._array_keys){try{r=JSON.parse(o(e._array_keys))}catch(r){return console.error("Shortcode attribute decode failed",o(e._array_keys),r),{}}e=_.omit(e,"_array_keys")}var t={};return _.each(e,function(e,c){try{t[c]=r[c]?JSON.parse(o(e)):o(e)}catch(r){return console.error("Shortcode attribute decode failed",o(e),r),{}}}),t},decodeValue:o,canDecode:c};function t(e){return n(r.first,r.second,e)}function o(e){return n(r.second.slice().reverse(),r.first.slice().reverse(),e)}function c(e){return e._fw_coder&&"aggressive"==e._fw_coder}function n(e,r,t,o){var c,n=0,i=0,a="",s="",f=0,d=[].concat(e),u=[].concat(r),_=t,y="[object Array]"===Object.prototype.toString.call(u),l="[object Array]"===Object.prototype.toString.call(_);if(_=[].concat(_),"object"==typeof e&&"string"==typeof r){for(a=r,r=[],n=0;n<e.length;n+=1)r[n]=a;a="",u=[].concat(r),y="[object Array]"===Object.prototype.toString.call(u)}for(void 0!==o&&(o.value=0),n=0,c=_.length;n<c;n++)if(""!==_[n])for(i=0,f=d.length;i<f;i++)a=_[n]+"",s=y?void 0!==u[i]?u[i]:"":u[0],_[n]=a.split(d[i]).join(s),void 0!==o&&(o.value+=a.split(d[i]).length-1);return l?_:_[0]}}();